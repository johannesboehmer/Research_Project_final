#
# Baseline GPSR Simulation Configuration
# 
# This configuration replicates standard GPSR behavior as a baseline
# for comparison with queue-aware extensions.
#
# Results are saved to ../../results/ directory
#

[General]
network = BaselineNetwork
sim-time-limit = 500s
result-dir = ../../results/baseline_gpsr

# Random number generation
num-rngs = 3
seed-set = ${repetition}
**.mobility.rng-0 = 1
**.wlan[*].mac.rng-0 = 2

# NED path includes src and current directory
ned-path = ../../src;.

# Network topology parameters
**.numHosts = 20

# Force single wireless interface and AckingWirelessInterface type
**.numWlanInterfaces = 1
**.wlan[0].typename = "AckingWirelessInterface"

# Physical layer - UnitDisk for Step 0 verification (deterministic connectivity)
# (UnitDiskRadioMedium hardcoded in BaselineNetwork.ned for now)

# Wireless NIC configuration - AckingWirelessInterface for predictable delivery
**.wlan[*].bitrate = 2Mbps
**.wlan[*].mac.headerLength = 23B
**.wlan[*].radio.typename = "UnitDiskRadio"
**.wlan[*].radio.transmitter.headerLength = 96b
**.wlan[*].radio.transmitter.communicationRange = 300m
**.wlan[*].radio.transmitter.interferenceRange = 0m
**.wlan[*].radio.transmitter.detectionRange = 0m
**.wlan[*].radio.receiver.ignoreInterference = true

# Mobility constraints
**.mobility.constraintAreaMinX = 0m
**.mobility.constraintAreaMinY = 0m
**.mobility.constraintAreaMaxX = 1000m
**.mobility.constraintAreaMaxY = 1000m
**.mobility.constraintAreaMinZ = 0m
**.mobility.constraintAreaMaxZ = 0m

# Network layer configuration
**.configurator.config = xml("<config><interface hosts='**' address='10.0.0.x' netmask='255.255.255.0'/></config>")
**.configurator.addStaticRoutes = false
**.netmaskRoutes = ""
**.arp.typename = "GlobalArp"

# IPv4 multicast (required for MANET beacons)
**.host[*].ipv4.ip.forwarding = true
**.host[*].ipv4.ip.multicastForwarding = true
**.host[*].udp.joinLocalMulticastGroups = true

# GPSR routing parameters (using INET's GpsrRouter which includes Gpsr module)
**.gpsr.interfaces = "wlan0"
**.gpsr.beaconInterval = 10s
**.gpsr.maxJitter = 5s
**.gpsr.neighborValidityInterval = 45s
**.gpsr.planarizationMode = "GG"
**.gpsr.displayBubbles = true

# Statistics recording
**.scalar-recording = true
**.vector-recording = true

# Application layer (traffic generation)
**.numApps = 1
**.app[0].typename = "UdpBasicApp"
**.app[0].destAddresses = "host[0]"  # Will be configured per scenario
**.app[0].destPort = 5000
**.app[0].messageLength = 512B
**.app[0].sendInterval = exponential(1s)
**.app[0].startTime = uniform(0s, 5s)

[Config Baseline]
description = "Baseline GPSR with stationary nodes"
extends = General

# Stationary mobility
**.host[*].mobility.typename = "StationaryMobility"

# Uniformly distributed positions
**.host[*].mobility.initFromDisplayString = false
**.host[*].mobility.initialX = uniform(0m, 1000m)
**.host[*].mobility.initialY = uniform(0m, 1000m)

# Traffic pattern: 5 random source-destination pairs using IP addresses (not hostnames)
**.host[0..4].numApps = 1
**.host[0].app[0].destAddresses = "10.0.0.16"  # host[15]
**.host[1].app[0].destAddresses = "10.0.0.17"  # host[16]
**.host[2].app[0].destAddresses = "10.0.0.18"  # host[17]
**.host[3].app[0].destAddresses = "10.0.0.19"  # host[18]
**.host[4].app[0].destAddresses = "10.0.0.20"  # host[19]

# Add UDP sinks on destination hosts
**.host[15..19].numApps = 1
**.host[15..19].app[0].typename = "UdpSink"
**.host[15..19].app[0].localPort = 5000

# Run multiple repetitions for statistical significance
repeat = 10

[Config BaselineMobile]
description = "Baseline GPSR with mobile nodes"
extends = Baseline

# Random waypoint mobility
**.host[*].mobility.typename = "RandomWaypointMobility"
**.host[*].mobility.speed = uniform(5mps, 15mps)
**.host[*].mobility.waitTime = uniform(0s, 10s)
**.host[*].mobility.updateInterval = 100ms

[Config BaselineHighLoad]
description = "Baseline GPSR under high traffic load"
extends = Baseline

# Increased traffic
**.app[0].sendInterval = exponential(0.2s)
**.host[0..9].numApps = 1  # More source nodes
