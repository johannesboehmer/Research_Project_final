[General]
network = QueueGpsrTestNetwork
sim-time-limit = 300s
record-eventlog = false

# Radio medium parameters
*.radioMedium.transmissionRange = 300m
*.radioMedium.interferenceRange = 0m
*.radioMedium.communicationRange = 300m

# Host parameters (20 hosts in 5x4 grid, 250m spacing)
*.numHosts = 20

# Routing parameters (using QueueGpsr)
*.host[*].hasStatus = false
*.host[*].forwarding = true
*.host[*].routing.typename = "QueueGpsr"
*.host[*].routing.beaconInterval = 5s
*.host[*].routing.neighborValidityInterval = 20s
*.host[*].routing.displayBubbles = false

# Radio parameters
*.host[*].wlan[0].typename = "AckingWirelessInterface"
*.host[*].wlan[0].mac.headerLength = 23B
*.host[*].wlan[0].bitrate = 1Mbps
*.host[*].wlan[0].radio.transmitter.communicationRange = 300m

# Application parameters
*.host[*].numApps = 0

# Cross-traffic flow 1: host[0] -> host[19] (bottom-left to top-right)
*.host[0].numApps = 1
*.host[0].app[0].typename = "UdpBasicApp"
*.host[0].app[0].destAddresses = "host[19]"
*.host[0].app[0].destPort = 5000
*.host[0].app[0].messageLength = 1024B
*.host[0].app[0].sendInterval = exponential(0.5s)
*.host[0].app[0].startTime = uniform(0s, 5s)
*.host[0].app[0].stopTime = this.startTime + 295s

*.host[19].numApps = 1
*.host[19].app[0].typename = "UdpSink"
*.host[19].app[0].localPort = 5000

# Cross-traffic flow 2: host[4] -> host[15] (bottom-right to top-left)
*.host[4].numApps = 1
*.host[4].app[0].typename = "UdpBasicApp"
*.host[4].app[0].destAddresses = "host[15]"
*.host[4].app[0].destPort = 5001
*.host[4].app[0].messageLength = 1024B
*.host[4].app[0].sendInterval = exponential(0.5s)
*.host[4].app[0].startTime = uniform(0s, 5s)
*.host[4].app[0].stopTime = this.startTime + 295s

*.host[15].numApps = 1
*.host[15].app[0].typename = "UdpSink"
*.host[15].app[0].localPort = 5001

# Mobility - stationary hosts
*.host[*].mobility.typename = "StationaryMobility"
*.host[*].mobility.initFromDisplayString = false

# Explicit grid positioning (5x4 grid, 250m spacing)
# Row 0 (bottom)
*.host[0].mobility.initialX = 100m
*.host[0].mobility.initialY = 100m
*.host[1].mobility.initialX = 350m
*.host[1].mobility.initialY = 100m
*.host[2].mobility.initialX = 600m
*.host[2].mobility.initialY = 100m
*.host[3].mobility.initialX = 850m
*.host[3].mobility.initialY = 100m
*.host[4].mobility.initialX = 1100m
*.host[4].mobility.initialY = 100m

# Row 1
*.host[5].mobility.initialX = 100m
*.host[5].mobility.initialY = 350m
*.host[6].mobility.initialX = 350m
*.host[6].mobility.initialY = 350m
*.host[7].mobility.initialX = 600m
*.host[7].mobility.initialY = 350m
*.host[8].mobility.initialX = 850m
*.host[8].mobility.initialY = 350m
*.host[9].mobility.initialX = 1100m
*.host[9].mobility.initialY = 350m

# Row 2
*.host[10].mobility.initialX = 100m
*.host[10].mobility.initialY = 600m
*.host[11].mobility.initialX = 350m
*.host[11].mobility.initialY = 600m
*.host[12].mobility.initialX = 600m
*.host[12].mobility.initialY = 600m
*.host[13].mobility.initialX = 850m
*.host[13].mobility.initialY = 600m
*.host[14].mobility.initialX = 1100m
*.host[14].mobility.initialY = 600m

# Row 3 (top)
*.host[15].mobility.initialX = 100m
*.host[15].mobility.initialY = 850m
*.host[16].mobility.initialX = 350m
*.host[16].mobility.initialY = 850m
*.host[17].mobility.initialX = 600m
*.host[17].mobility.initialY = 850m
*.host[18].mobility.initialX = 850m
*.host[18].mobility.initialY = 850m
*.host[19].mobility.initialX = 1100m
*.host[19].mobility.initialY = 850m

# Initial Z coordinate
*.host[*].mobility.initialZ = 0m

[Config QueueGpsrTest]
description = "QueueGPSR with delay tiebreaker enabled"
# Enable delay tiebreaker
*.host[*].routing.enableDelayTiebreaker = true
*.host[*].routing.distanceEqualityThreshold = 1.0m
*.host[*].routing.delayEstimationFactor = 0.001s

[Config QueueGpsrBaseline]
description = "QueueGPSR with delay tiebreaker disabled (baseline)"
# Disable delay tiebreaker (standard GPSR behavior)
*.host[*].routing.enableDelayTiebreaker = false
